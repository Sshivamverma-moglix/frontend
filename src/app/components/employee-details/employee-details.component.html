<mat-card class="employee-detail-container" *ngIf="employee; else noData">
  <mat-card-title>Employee Details</mat-card-title>

  <form #empForm="ngForm" (ngSubmit)="updateEmployee()" class="employee-form">

    <!-- Employee ID (read-only) -->
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>ID</mat-label>
      <input matInput [value]="employee.id" readonly />
    </mat-form-field>

    <!-- Name -->
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Name</mat-label>
      <input
        matInput
        placeholder="Enter name"
        [(ngModel)]="employee.name"
        name="name"
        #name="ngModel"
        required
        minlength="3"
        (keypress)="allowOnlyAlphabets($event)"
      />
      <mat-error *ngIf="name.errors?.['required']">Name is required</mat-error>
      <mat-error *ngIf="name.errors?.['minlength']">Minimum 3 characters required</mat-error>
    </mat-form-field>

    <!-- Email -->
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Email</mat-label>
      <input
        matInput
        type="email"
        placeholder="Enter email"
        [(ngModel)]="employee.email"
        name="email"
        #email="ngModel"
        required
        email
      />
      <mat-error *ngIf="email.errors?.['required']">Email is required</mat-error>
      <mat-error *ngIf="email.errors?.['email']">Enter a valid email</mat-error>
    </mat-form-field>

    <!-- Designation -->
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Designation</mat-label>
      <input
        matInput
        placeholder="Enter designation"
        [(ngModel)]="employee.designation"
        name="designation"
        #designation="ngModel"
        required
      />
      <mat-error *ngIf="designation.errors?.['required']">Designation is required</mat-error>
    </mat-form-field>

    <!-- Phone -->
    <mat-form-field appearance="fill" class="full-width">
      <mat-label>Phone</mat-label>
      <input
        matInput
        type="tel"
        placeholder="Enter phone number"
        [(ngModel)]="employee.phone"
        name="phone"
        #phone="ngModel"
        pattern="[0-9]{10}"
        maxlength="10"
        required
      />
      <mat-hint align="end">10 digits only</mat-hint>
      <mat-error *ngIf="phone.errors?.['required']">Phone is required</mat-error>
      <mat-error *ngIf="phone.errors?.['pattern']">Enter a valid 10-digit number</mat-error>
    </mat-form-field>

    <!-- Buttons -->
    <div class="button-row">
      <button
        mat-raised-button
        color="primary"
        type="submit"
        [disabled]="empForm.invalid"
      >
        Update
      </button>

      <button mat-stroked-button color="accent" routerLink="/employees">
        ‚Üê Back to Employees
      </button>
    </div>
  </form>
</mat-card>

<!-- No Data Template -->
<ng-template #noData>
  <mat-card class="no-data-card">
    <mat-card-content>
      <p>Employee not found.</p>
      <button mat-stroked-button color="primary" routerLink="/employees">
        Back to List
      </button>
    </mat-card-content>
  </mat-card>
</ng-template>
